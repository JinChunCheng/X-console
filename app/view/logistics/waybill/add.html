<div class="panel form-horizontal">
    <div class="panel-heading">
        <i class="menu-icon fa fa-sitemap mr5"></i><span class="panel-title">订舱单信息</span>
    </div>
    <div class="panel-body">
        <div style="float:right;">
            <button type="button" class="btn btn-default ml5" ng-click="back()">
                返回列表
            </button>
        </div>
        <div class="clear-fix"></div>
        <div class="panel-body">
            <ul id="subWaybill-tabs" class="nav nav-tabs">
                <li class="active">
                    <a data-target="#swbInfo" data-toggle="tab">订舱单详情</span>
                    <i class="fa fa-spin fa-spinner m-r-xs text-lg" ng-if="swbDetailLoading" ng-cloak></i></a>
                </li>
                
            </ul>
            <div class="tab-content tab-content-bordered" >
                <div class="tab-pane fade active in" id="subWaybillInfo">
                    <div class="row">
                        <form id="subWaybillForm" name="subWaybillForm" class="form-horizontal" method="post" ng-submit="saveSubWaybill()" novalidate>
                            <div class="col-md-3">
                                <div class="input-group m-b">
                                    <span class="input-group-addon">EC运单号</span>
                                    <input  type="text"  class="form-control" ng-model="subWaybill.trackNo" ng-disabled="true"/>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="input-group m-b">
                                    <span class="input-group-addon">物流供应商</span>
                                    <!--<input  type="text"  class="form-control" ng-model="trackDetail.vendorCode"/>-->
                                    <select class="form-control form-group-margin" ng-model="trackDetail.vendorCode" name="vendorCode" required>
                                        <option value="" default>- 请选择 -</option>
                                        <option ng-repeat="item in vendorList" value="{{item.vendorCode}}">
                                            {{item.vendorName}}
                                        </option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="input-group m-b">
                                    <span class="input-group-addon">运单/提单号</span>
                                    <input  type="text"  class="form-control" maxlength="15" ng-model="trackDetail.blNo"/>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="input-group m-b">
                                    <span class="input-group-addon">总件数</span>
                                    <input type="test" class="form-control" maxlength="10" ng-model="subWaybill.totalPackage" ng-keypress="allowIntOnly($event)"/>
                                </div>
                            </div>

                            <div class="col-md-3">
                                <div class="input-group m-b">
                                    <span class="input-group-addon">EC子运单/包裹单</span>
                                    <input  type="text"  class="form-control" ng-model="subWaybill.subTrackNo" ng-disabled="true"/>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="input-group m-b">
                                    <span class="input-group-addon">运输方式</span>
                                    <!--<input  type="text"  class="form-control" ng-model="trackDetail.transportMode"/>
                                    <select class="form-control" ng-model="trackDetail.transportMode">
                                        <option value=""></option>
                                        <option value="POST">By post</option>
                                        <option value="EXPRESS">By courier</option>
                                        <option value="OCEAN">By ocean</option>
                                        <option value="AIR">By air</option>
                                    </select>-->
                                    <select class="form-control form-group-margin" ng-model="trackDetail.transportMode" name="transportMode" ng-change="reloadPortList('')" required>
                                        <option value="" default>- 请选择 -</option>
                                        <option ng-repeat="item in transportModeList" value="{{item.value}}">
                                            {{item.text}}
                                        </option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="col-md-3">
                                <div class="input-group m-b">
                                    <span class="input-group-addon">船名/航班号</span>
                                    <input  type="text"  class="form-control" maxlength="10" ng-model="trackDetail.intendedVFNo"/>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="input-group m-b">
                                    <span class="input-group-addon">总重量</span>
                                    <input type="test" class="form-control form-control-w" ng-model="subWaybill.totalWeight" ng-keypress="allowFloatOnly($event)"/>
                                    <select class="form-control form-control-l" ng-model="subWaybill.weightUnit">
                                        <option value="KG">KG</option>
                                    </select>
                                </div>
                            </div>

                            <div class="col-md-3">
                                <div class="input-group m-b">
                                    <span class="input-group-addon">SO运费收入</span>
                                    <input type="text" class="form-control form-control-w" ng-model="subWaybill.soTotalShippingCost" ng-disabled="true"/>
                                    <select class="form-control form-control-l" ng-model="subWaybill.soCurrency" ng-disabled="true">
                                        <option value=""></option>
                                        <option value="USD">USD</option>
                                        <option value="CNY">CNY</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="input-group m-b">
                                    <span class="input-group-addon">贸易条款</span>
                                    <select class="form-control" ng-model="trackDetail.incoterm" name="incoterm" required>
                                        <option value="" default>- 请选择 -</option>
                                        <option ng-repeat="item in incotermList" value="{{item.value}}">
                                            {{item.text}}
                                        </option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="input-group m-b">
                                    <span class="input-group-addon">集装箱号</span>
                                    <input  type="text"  class="form-control" maxlength="20" ng-model="trackDetail.containerNo"/>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="input-group m-b">
                                    <span class="input-group-addon">总体积</span>
                                    <input type="test" class="form-control form-control-w" name="totalVolume" ng-model="subWaybill.totalVolume" ng-keypress="allowFloatOnly($event)"/>
                                    <select class="form-control form-control-l" ng-model="subWaybill.volumeUnit">
                                        <option value="CBM">CBM</option>
                                    </select>
                                </div>
                            </div>

                            <div class="col-md-3">
                                <div class="input-group m-b">
                                    <span class="input-group-addon">实际运费</span>
                                    <input type="text" class="form-control form-control-w" ng-model="trackDetail.shippingCost" ng-keypress="allowFloatOnly($event)"/>
                                    <select class="form-control form-control-l" ng-model="trackDetail.currency">
                                        <option value=""></option>
                                        <option value="USD">USD</option>
                                        <option value="CNY">CNY</option>
                                    </select>
                                    <!--
                                    <span class="input-group-btn">
                                    <select class="form-control input-sm" ng-model="trackDetail.transportMode">
                                        <option value="" ng-selected="!condition.isValid"></option>
                                        <option value="RMB">RMB</option>
                                        <option value="USD">USD</option>
                                        <option value="EUR">EUR</option>
                                    </select>
                                    </span>
                                    -->
                                </div>
                            </div>

                            <div class="line line-dashed b-b pull-in"></div>

                                <div class="col-md-3">
                                    <div class="input-group m-b">
                                        <span class="input-group-addon">发货国家</span>
                                        <select class="form-control form-group-margin" ng-model="subWaybill.polCountrycode" id="polCountrycode" ng-change="reloadPortList('origin')" required>
                                            <option value="" default>- 请选择国家 -</option>
                                            <option ng-repeat="item in countryList" value="{{item.countryCode}}">
                                                {{item.countryName}}
                                            </option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="input-group m-b">
                                        <span class="input-group-addon">发货港口</span>
                                        <select class="form-control" ng-model="subWaybill.pol" >
                                            <option value=""></option>
                                            <option ng-repeat="item in originPortList" value="{{item.portCode}}">
                                                {{item.portEnName}}
                                            </option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="input-group m-b">
                                        <span class="input-group-addon">目的国家</span>
                                        <select class="form-control form-group-margin" ng-model="subWaybill.podCountrycode" id="podCountrycode" ng-change="reloadPortList('dest')" required>
                                            <option value="" default>- 请选择国家 -</option>
                                            <option ng-repeat="item in countryList" value="{{item.countryCode}}">
                                                {{item.countryName}}
                                            </option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="input-group m-b">
                                        <span class="input-group-addon">目的港口</span>
                                        <!--<input  type="text"  class="form-control" maxlength="100" ng-model="subWaybill.POD"/>-->
                                        <select class="form-control" ng-model="subWaybill.pod">
                                            <option value=""></option>
                                            <option ng-repeat="item in destPortList" value="{{item.portCode}}">
                                                {{item.portEnName}}
                                            </option>
                                        </select>
                                    </div>
                                </div>

                                <div class="col-md-3">
                                    <div class="input-group m-b">
                                        <span class="input-group-addon">发货公司</span>
                                        <input  type="text"  class="form-control" maxlength="100" ng-model="subWaybill.consignerName"/>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="input-group m-b">
                                        <span class="input-group-addon">发货人</span>
                                        <input  type="text"  class="form-control" maxlength="50" ng-model="subWaybill.consignerContacter"/>
                                    </div>
                                </div>
                                 <div class="col-md-3">
                                    <div class="input-group m-b">
                                        <span class="input-group-addon">发货人电话</span>
                                        <input  type="text"  class="form-control" maxlength="20" ng-model="subWaybill.consignerContactNo"/>
                                    </div>
                                </div>
                                 <div class="col-md-3">
                                    <div class="input-group m-b">
                                        <span class="input-group-addon">发货人邮件</span>
                                        <input  type="text"  class="form-control" maxlength="100" ng-model="subWaybill.consignerEmail"/>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="input-group m-b">
                                        <span class="input-group-addon">发货人地址</span>
                                        <select class="form-control form-group-margin" ng-model="subWaybill.originCountryCode" id="originCountryCode" ng-change="reloadOrgStates()" required>
                                            <option value="" default>- 请选择国家 -</option>
                                            <option ng-repeat="item in countryList" value="{{item.countryCode}}">
                                                {{item.countryName}}
                                            </option>
                                        </select>
                                    </div>


                                </div>
                                <div class="col-md-3">
                                    <div class="input-group m-b">
                                        <select class="form-control" style="width:275px" ng-model="subWaybill.originStateCode" id="originStateCode" ng-change="reloadOrgCities()" required>
                                            <option value="" default>- 请选择州省 -</option>
                                            <option ng-repeat="item in originStateList" value="{{item.stateCode}}">
                                                {{item.stateName}}
                                            </option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="input-group m-b">
                                        <select class="form-control" style="width:275px" ng-model="subWaybill.originCityCode" id="originCityCode" required>
                                            <option value="" default>- 请选择城市 -</option>
                                            <option ng-repeat="item in originCityList" value="{{item.cityCode}}">
                                                {{item.cityName}}
                                            </option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="input-group m-b">
                                        <input  type="text"  class="form-control" size="50" maxlength="100" placeholder="发货人详细地址"  ng-model="subWaybill.consignerAddr"/>
                                    </div>
                                </div>
                                <!--
                                <div class="form-group">
                                    <label class="col-sm-2 control-label">
                                        <i class="text-danger m-r-xs">*</i>发货地址
                                    </label>
                            <div class="col-sm-10">
                                <div class="row">
                                    <div class="col-sm-3 p-r-none" ng-class="{'has-error':esinform.tab3.province.$invalid&&(view.submitted||esinform.tab3.province.$dirty)}">
                                        <select class="form-control" ng-model="subWaybill.originCountryCode" name="country" ng-options="key as key for (key,value) in division" ng-change="product.originCityCode=''" required>
                                            <option value="">- 省 -</option>
                                        </select>
                                    </div>
                                    <div class="col-sm-3 p-r-none" ng-class="{'has-error':esinform.tab3.city.$invalid&&(view.submitted||esinform.tab3.city.$dirty)}">
                                        <select class="form-control" ng-model="subWaybill.originCityCode" name="city" ng-options="key as key for (key,value) in division[product.deliveryProvince]" ng-change="product.district=''" required>
                                            <option value="">- 市 -</option>
                                        </select>
                                    </div>
                                    <div class="col-sm-6" ng-class="{'has-error':esinform.tab3.deliveryPlace.$invalid&&(view.submitted||esinform.tab3.deliveryPlace.$dirty)}">
                                        <input type="text" autocomplete="off" class="form-control" name="consignerAddr" maxlength="200" placeholder="详细地址" ng-model="subWaybill.consignerAddr" required />
                                    </div>
                                </div>
                            </div>
                        </div>
                        -->
                                <div class="col-md-3">
                                    <div class="input-group m-b">
                                        <span class="input-group-addon">收货公司</span>
                                        <input  type="text"  class="form-control" maxlength="100" ng-model="subWaybill.consigneeName"/>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="input-group m-b">
                                        <span class="input-group-addon">收货人</span>
                                        <input  type="text"  class="form-control" maxlength="50" ng-model="subWaybill.consigneeContacter"/>
                                    </div>
                                </div>
                                 <div class="col-md-3">
                                    <div class="input-group m-b">
                                        <span class="input-group-addon">收货人电话</span>
                                        <input  type="text"  class="form-control" maxlength="20" ng-model="subWaybill.consigneeContactNo"/>
                                    </div>
                                </div>
                                 <div class="col-md-3">
                                    <div class="input-group m-b">
                                        <span class="input-group-addon">收货人邮件</span>
                                        <input  type="text"  class="form-control" maxlength="100" ng-model="subWaybill.consigneeEmail"/>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="input-group m-b">
                                        <span class="input-group-addon">收货人地址</span>
                                        <select class="form-control form-group-margin" ng-model="subWaybill.destCountryCode" id="destCountryCode" ng-change="reloadDestStates()" required>
                                            <option value="" default>- 请选择国家 -</option>
                                            <option ng-repeat="item in countryList" value="{{item.countryCode}}">
                                                {{item.countryName}}
                                            </option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="input-group m-b">
                                        <select class="form-control" style="width:275px" ng-model="subWaybill.destStateCode" id="destStateCode" ng-change="reloadDestCities()" required>
                                            <option value="" default>- 请选择州省 -</option>
                                            <option ng-repeat="item in destStateList" value="{{item.stateCode}}">
                                                {{item.stateName}}
                                            </option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="input-group m-b">
                                        <select class="form-control" style="width:275px" ng-model="subWaybill.destCityCode" id="destCityCode" required>
                                            <option value="" default>- 请选择城市 -</option>
                                            <option ng-repeat="item in destCityList" value="{{item.cityCode}}">
                                                {{item.cityName}}
                                            </option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="input-group m-b">
                                        <input  type="text"  class="form-control" size="50" maxlength="100" placeholder="收货人详细地址" ng-model="subWaybill.consigneeAddr"/>
                                    </div>
                                </div>
                                
                                <div class="col-xs-3">
                                    <div class="input-group m-b">
                                        <span class="input-group-addon">通知方公司</span>
                                        <input  type="text"  class="form-control" maxlength="100" ng-model="subWaybill.notifyName"/>
                                    </div>
                                </div>
                                <div class="col-xs-3">
                                    <div class="input-group m-b">
                                        <span class="input-group-addon">通知人</span>
                                        <input  type="text"  class="form-control" maxlength="50" ng-model="subWaybill.notifyContacter"/>
                                    </div>
                                </div>
                                 <div class="col-xs-3">
                                    <div class="input-group m-b">
                                        <span class="input-group-addon">通知人电话</span>
                                        <input  type="text"  class="form-control" maxlength="20" ng-model="subWaybill.notifyContactNo"/>
                                    </div>
                                </div>
                                 <div class="col-xs-3">
                                    <div class="input-group m-b">
                                        <span class="input-group-addon">通知人邮件</span>
                                        <input  type="text"  class="form-control" maxlength="100" ng-model="subWaybill.notifyEmail"/>
                                    </div>
                                </div>
                            
                            <div class="line line-dashed b-b pull-in"></div>

                            
                            <div class="col-md-3">
                                <div class="input-group m-b">
                                    <span class="input-group-addon">预计出货日期</span>
                                    <input type="text" class="form-control" datepicker-popup="{{format}}" ng-model="trackDetail.polETD" is-open="openA" min-date="minDate" datepicker-options="dateOptions" date-disabled="disabled(date, mode)"  close-text="关闭" ng-click="openPolEtd($event)" />
                                    <span class="input-group-btn">
                                        <button type="button" class="btn btn-default" ng-click="openPolEtd($event)"><i class="glyphicon glyphicon-calendar"></i></button>
                                    </span>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="input-group m-b">
                                    <span class="input-group-addon">预计离港日期</span>
                                    <input type="text" class="form-control" datepicker-popup="{{format}}" ng-model="trackDetail.etd" is-open="openD" min-date="minDate" datepicker-options="dateOptions" date-disabled="disabled(date, mode)"  close-text="关闭" ng-click="openEtd($event)" />
                                    <span class="input-group-btn">
                                        <button type="button" class="btn btn-default" ng-click="openEtd($event)"><i class="glyphicon glyphicon-calendar"></i></button>
                                    </span>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="input-group m-b">
                                    <span class="input-group-addon">预计到港日期</span>
                                    <input type="text" class="form-control" datepicker-popup="{{format}}" ng-model="trackDetail.podETA" is-open="openB" min-date="minDate" datepicker-options="dateOptions" date-disabled="disabled(date, mode)"  close-text="关闭" ng-click="openPodEta($event)" />
                                    <span class="input-group-btn">
                                        <button type="button" class="btn btn-default" ng-click="openPodEta($event)"><i class="glyphicon glyphicon-calendar"></i></button>
                                    </span>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="input-group m-b">
                                    <span class="input-group-addon">预计到达日期</span>
                                    <input type="text" class="form-control" datepicker-popup="{{format}}" ng-model="trackDetail.destETA" is-open="openC" min-date="minDate" datepicker-options="dateOptions" date-disabled="disabled(date, mode)"  close-text="关闭" ng-click="openDestEta($event)" />
                                    <span class="input-group-btn">
                                        <button type="button" class="btn btn-default" ng-click="openDestEta($event)"><i class="glyphicon glyphicon-calendar"></i></button>
                                    </span>
                                </div>
                            </div>
                            
                            <div class="line line-dashed b-b pull-in"></div>
                            <div class="col-xs-12">
                                <div class="input-group">
                                    <span class="input-group-addon">备注</span>
                                    <textarea id="remarks" name="remarks" class="form-control" cols="50" rows="3" ng-model="subWaybill.remarks" maxlength="200"></textarea>
                                </div>
                            </div>
                            
                            <div class="line line-dashed b-b pull-in"></div>

                            <div class="form-group">
                                <div class="col-sm-offset-10">
                                    <button type="submit" class="btn btn-primary" >
                                        <span ng-bind="isSaving? '保存中':'保存'"></span>
                                    </button>
                                    <button type="button" class="btn btn-primary" ng-click="back()">
                                        <span ng-bind="'取消'"></span>
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>

                </div>             

                

                    
                  
            </div>
        </div>
    </div>
</div>