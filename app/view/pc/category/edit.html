<div class="panel panel-default">
    <div class="panel-heading font-bold">
        <span class="panel-title" ng-bind="title"></span>
        <i class="fa fa-spin fa-spinner m-r-xs text-lg" ng-if="loading" ng-cloak></i>
    </div>
    <div class="panel-body">
        <form id="catform" name="catform" class="form-horizontal" method="post" ng-submit="addCategory(catform.$valid)" novalidate>
            <input type="hidden" id="id" name="id" value="{{category.id}}" />
            <input type="hidden" id="grade" name="grade" value="{{category.grade}}" />
            <input type="hidden" id="code" name="code" value="{{category.code}}" />
            <div class="form-group" ng-class="{'has-error':demoform.name.$invalid && !demoform.name.$pristine}">
                <label for="name" class="col-sm-2 control-label">
                    品类名称（英文）
                </label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" name="name" id="name" ng-model="category.name" required />
                    <input type="hidden" class="form-control" name="productWarehouseCode" id="productWarehouseCode" value="0001" />
                    <div class="jquery-validate-error help-block" ng-if="catform.name.$invalid && !catform.name.$pristine" ng-cloak>
                        请填写品类名称
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">
                    上级品类
                </label>
                <div class="col-sm-10">
                    <span ng-if="showCategoryInfo" ng-cloak>
                        <span ng-bind="category.parentPathName"></span>
                        <button type="button" class="btn btn-default btn-sm" ng-click="cascadeMenu()" ng-disabled="isCascading">
                            <span ng-if="!isCascading" ng-cloak>修改</span>
                            <i class="fa fa-spin fa-spinner" ng-if="!showCategoryInfo" ng-cloak></i>
                        </button>
                    </span>
                    <span ng-repeat="selectItem in selectDatas">
                        <select class="form-control m-b-sm" id="_parentCode" name="_parentCode" ng-options="o.id as o.name for o in getOptions($index)" ng-model="currentVal" ng-change="cascadeMenu($index, currentVal)">
                            <option value="">请选择</option>
                        </select>
                    </span>
                    <i class="fa fa-spin fa-spinner m-t-sm text-lg" ng-if="isCascading" ng-cloak></i>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">
                </label>
                <div class="col-sm-10">
                    <div class="checkbox m-r-xs">
                        <label class="i-checks i-checks-sm">
                            <input id="leaf" name="leaf" type="checkbox" ng-model="category.leaf" ng-true-value="1" ng-false-value="0" /><i></i> 叶节点
                            <label class="text-danger">提示：新添加品类是否是叶子节点</label>
                        </label>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">
                </label>
                <div class="col-sm-10">
                    <div class="checkbox m-r-xs">
                        <label class="i-checks i-checks-sm">
                            <input id="isValid" name="isValid" type="checkbox" ng-model="category.isValid" ng-true-value="'1'" ng-false-value="'0'" /><i></i> 是否启用
                            <label class="text-danger">提示：是否启用该品类</label>
                        </label>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label for="des" class="col-sm-2 control-label">
                    <!--说明-->  品类名称（中文）
                </label>
                <div class="col-sm-10">
                    <textarea id="des" name="des" class="form-control" rows="3" maxlength="200" ng-model="category.des" ></textarea>
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-offset-2 col-sm-10">
                    <button type="submit" class="btn btn-primary" ng-disabled="isSaving">
                        <span ng-bind="isSaving? '正在保存':'保存品类'"></span>
                    </button>
                    <button type="button" class="btn btn-default m-l-sm" ng-click="back()">
                        返回列表
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>

