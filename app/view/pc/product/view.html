<div class="panel panel-default">
    <div class="panel-heading font-bold">
        <span class="panel-title" ng-bind="view.title"></span>
        <i class="fa fa-spin fa-spinner m-r-xs text-lg" ng-if="view.loading" ng-cloak></i>
    </div>
    <div class="panel-body">
        <tabset class="tab-container">
            <tab>
                <tab-heading>
                    基本信息
                </tab-heading>
                <div class="row">
                    <div class="col-sm-2 text-right font-bold">ESIN编号</div>
                    <div class="col-sm-10" ng-bind="product.code"></div>
                </div>
                <div class="line line-dashed b-b pull-in"></div>
                <div class="row">
                    <div class="col-sm-2 text-right font-bold">供应商</div>
                    <div class="col-sm-10" ng-bind="product.supplierName"></div>
                </div>
                <div class="line line-dashed b-b pull-in"></div>
                <div class="row">
                    <div class="col-sm-2 text-right font-bold">英文名称</div>
                    <div class="col-sm-10" ng-bind="product.enName"></div>
                </div>
                <div class="line line-dashed b-b pull-in"></div>
                <div class="row">
                    <div class="col-sm-2 text-right font-bold">中文名称</div>
                    <div class="col-sm-10" ng-bind="product.name"></div>
                </div>
                <div class="line line-dashed b-b pull-in"></div>
                <div class="row">
                    <div class="col-sm-2 text-right font-bold">所属品类</div>
                    <div class="col-sm-10" ng-bind="product.categoryAllName"></div>
                </div>
                <div class="line line-dashed b-b pull-in"></div>
                <div class="row">
                    <div class="col-sm-2 text-right font-bold">HS编码</div>
                    <div class="col-sm-10" ng-bind="product.hscode"></div>
                </div>
                <div class="line line-dashed b-b pull-in"></div>
                <div class="row">
                    <div class="col-sm-2 text-right font-bold">品牌</div>
                    <div class="col-sm-10" ng-bind="product.brand"></div>
                </div>
                <div class="line line-dashed b-b pull-in"></div>
                <div class="row">
                    <div class="col-sm-2 text-right font-bold">增值税率</div>
                    <div class="col-sm-10" ng-bind="product.vatRate+' %'"></div>
                </div>
                <div class="line line-dashed b-b pull-in"></div>
                <div class="row">
                    <div class="col-sm-2 text-right font-bold">产品说明</div>
                    <div class="col-sm-10" ng-bind="product.description"></div>
                </div>
                <div class="line line-dashed b-b pull-in"></div>
                <div class="row">
                    <div class="col-sm-2 text-right font-bold">产品说明</div>
                    <div class="col-sm-10" ng-bind="product.auditRemark"></div>
                </div>
                
            </tab>
            <tab heading="销售信息">
                <div class="row">
                    <div class="col-sm-2 text-right font-bold">订货单位</div>
                    <div class="col-sm-10" ng-bind="product.unit"></div>
                </div>
                <div class="line line-dashed b-b pull-in"></div>
                <div class="row">
                    <div class="col-sm-2 text-right font-bold">最小起订量</div>
                    <div class="col-sm-10" ng-bind="product.moq"></div>
                </div>
                <div class="line line-dashed b-b pull-in"></div>
                <div class="row">
                    <div class="col-sm-2 text-right font-bold">MOQ供货期</div>
                    <div class="col-sm-10" ng-bind="product.moqSupplytime"></div>
                </div>
                <div class="line line-dashed b-b pull-in"></div>
                <div class="row">
                    <div class="col-sm-2 text-right font-bold">结算币种</div>
                    <div class="col-sm-10" ng-bind="product.settlementCurrency"></div>
                </div>
                <div class="line line-dashed b-b pull-in"></div>
                <div class="row">
                    <div class="col-sm-2 text-right font-bold">样品价格</div>
                    <div class="col-sm-10" ng-bind="product.samplePrice"></div>
                </div>
                <div class="line line-dashed b-b pull-in"></div>
                <div class="row">
                    <div class="col-sm-2 text-right font-bold">最大样品数量</div>
                    <div class="col-sm-10" ng-bind="product.sampleMax"></div>
                </div>
                <div class="line line-dashed b-b pull-in"></div>
                <div class="row">
                    <div class="col-sm-2 text-right font-bold">采购价格</div>
                    <div class="col-sm-10" ng-bind="product.price"></div>
                </div>
                <div class="line line-dashed b-b pull-in"></div>
                <div class="row">
                    <div class="col-sm-2 text-right font-bold">价格是否分梯度</div>
                    <div class="col-sm-10">
                        <p>{{product.isGrads? '是' : '否'}}</p>
                        <table ng-if="product.isGrads" ng-cloak class="table table-striped m-b-none">
                            <thead>
                                <tr>
                                    <th class="w120">优惠数量</th>
                                    <th>采购价格</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="item in product.productPrices">
                                    <td>{{item.startCount}}</td>
                                    <td>{{item.price}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </tab>
            <tab heading="描述属性">
                <div ng-repeat="item in view.descAttrValues">
                    <div class="row">
                        <div class="col-sm-2 text-right font-bold" ng-bind="item.attributeName"></div>
                        <div class="col-sm-10">
                            <span ng-repeat="subItem in item.attributeVal">
                                {{subItem}} {{item.suffix}}<span ng-if="$index<item.attributeVal.length-1">, </span>
                            </span>
                        </div>
                    </div>
                    <div class="line line-dashed b-b pull-in" ng-if="$index<view.descAttrValues.length-1"></div>
                </div>
            </tab>
            <tab heading="物流属性">
                <div class="row">
                    <div class="col-sm-2 text-right font-bold">单件产品重量</div>
                    <div class="col-sm-10">
                        {{product.netweight}} {{product.netweightUnit}}
                    </div>
                </div>
                <div class="line line-dashed b-b pull-in"></div>
                <div class="row">
                    <div class="col-sm-2 text-right font-bold">单件产品尺寸</div>
                    <div class="col-sm-10">
                        长：<span ng-bind="product.length+product.sizeUnit"></span>，宽：
                        <span ng-bind="product.width+product.sizeUnit"></span>，高：
                        <span ng-bind="product.height+product.sizeUnit"></span>
                    </div>
                </div>
                <div class="line line-dashed b-b pull-in"></div>
                <div class="row">
                    <div class="col-sm-2 text-right font-bold">单件包装方式</div>
                    <div class="col-sm-10" ng-bind="product.skuPackstyle"></div>
                </div>
                <div class="line line-dashed b-b pull-in"></div>
                <div class="row">
                    <div class="col-sm-2 text-right font-bold">物流包装方式</div>
                    <div class="col-sm-10" ng-bind="product.packType"></div>
                </div>
                <div class="line line-dashed b-b pull-in"></div>
                <div class="row">
                    <div class="col-sm-2 text-right font-bold">标准装箱数量</div>
                    <div class="col-sm-10" ng-bind="product.packAmount"></div>
                </div>
                <div class="line line-dashed b-b pull-in"></div>
                <div class="row">
                    <div class="col-sm-2 text-right font-bold">装箱后重量</div>
                    <div class="col-sm-10">
                        {{product.packWeight + ' ' + product.packWeightUnit}}
                    </div>
                </div>
                <div class="line line-dashed b-b pull-in"></div>
                <div class="row">
                    <div class="col-sm-2 text-right font-bold">装箱后尺寸</div>
                    <div class="col-sm-10">
                        长：<span ng-bind="product.packLength"></span> {{product.packSizeUnit}}， 
                        宽：<span ng-bind="product.packWidth"></span> {{product.packSizeUnit}}， 
                        高：<span ng-bind="product.packHeight"></span> {{product.packSizeUnit}}
                    </div>
                </div>
                <div class="line line-dashed b-b pull-in"></div>
                <div class="row">
                    <div class="col-sm-2 text-right font-bold">特殊配送标记</div>
                    <div class="col-sm-10" ng-bind="getDeliveryFlagString(product.deliveryFlag)"></div>
                </div>
                <div class="line line-dashed b-b pull-in"></div>
                <div class="row">
                    <div class="col-sm-2 text-right font-bold">交货地点</div>
                    <div class="col-sm-10" ng-bind="product.deliveryPlace"></div>
                </div>
            </tab>
            <tab heading="产品图片">
                <div class="m-r-xs m-b-xs inline" ng-repeat="item in product.productPics|filter:{picType:2}">
                    <a ng-href="{{item.picUrl|filePath:0}}" target="_blank"><img ng-src="{{item.picUrl|filePath:0:'_70x70'}}" error-src="{{item.picUrl|filePath:0}}" class="w80 h80" /></a>
                </div>
            </tab>
            <tab heading="细节图">
                <div class="m-r-xs m-b-xs inline" ng-repeat="item in product.productPics|filter:{picType:4}">
                    <a ng-href="{{item.picUrl|filePath:0}}" target="_blank"><img ng-src="{{item.picUrl|filePath:0:'_70x70'}}" error-src="{{item.picUrl|filePath:0}}" class="w80 h80" /></a>
                </div>
            </tab>
            <tab heading="产品资质">
                <table class="table table-striped m-b-none">
                    <tbody>
                        <tr ng-repeat="item in product.productPics|filter:{picType:6}">
                            <td class="w80">
                                <a ng-href="{{item.picUrl|filePath:0}}" target="_blank">
                                    <img ng-src="{{item.picUrl|filePath:0:'_70x70'}}" error-src="{{item.picUrl|filePath:0}}" class="w80 h80">
                                </a>
                            </td>
                            <td class="v-bottom" ng-bind="item.description"></td>
                        </tr>
                    </tbody>
                </table>
            </tab>
            <tab heading="细分SKU">
                <span class="text-danger" ng-if="!product.skus||product.skus.length==0" ng-cloak>无细分SKU</span>
                <table class="table table-striped m-b-none" ng-if="product.skus&&product.skus.length>0" ng-cloak>
                    <thead>
                        <tr>
                            <th ng-repeat="item in view.specAttrs" ng-bind="item.attributeName"></th>
                            <th>产品名称</th>
                            <th>产品编号</th>
                            <th>货号</th>
                            <th>自定义属性</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="item in product.skus">
                            <td ng-repeat="spec in view.specAttrs" ng-bind="item.productAttrss[$index].attributeVal"></td>
                            <td ng-bind="item.enName"></td>
                            <td ng-bind="item.code"></td>
                            <td ng-bind="item.supplierSku"></td>
                            <td>
                                <label ng-bind="item.hasCustom?'自定义':'默认'"></label>
                                <button class="btn btn-default btn-xs m-l-xs" ng-click="viewCustomAttribute(item)">
                                    <i class="fa fa-file-text-o"></i>
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </tab>
        </tabset>
    </div>
</div>
<div class="panel panel-default form-horizontal" ng-show="canAudit()" ng-cloak>
    <div class="panel-heading font-bold" ng-bind="auditVM.title"></div>
    <div class="panel-body">
        <form name="importForm" method="post" ng-submit="ok()" novalidate>
            <div class="form-group">
                <label class="col-sm-2 control-label ">
                    审核项
                </label>
                <div class="col-sm-10" ng-class="{ 'has-error':auditOption == '' && view.submitted}">
                    <label class="checkbox-inline i-checks i-checks-sm m-l-none m-rs" ng-repeat="item in auditVM.auditOption.vals">
                        <input type="checkbox" checklist-model="auditVM.auditOption.selectedItems" checklist-value="item.contentCn" /><i></i> {{item.contentCn}}
                    </label>
                    <span class="help-block text-xs" ng-if="(view.optionsChanged||view.submitted) && (!deliveryFlags.selectedItems||deliveryFlags.selectedItems.length<1)" ng-cloak>必填项！</span>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">审核意见</label>
                <div class="col-sm-10">
                    <textarea autocomplete="off" maxlength="500" class="form-control" rows="5" ng-model="auditVM.remark"></textarea>
                </div>
            </div>
            <div class="panel-footer text-center">
                <button class="btn btn-primary" ng-click="auditEsin(2)">
                    审核通过
                </button>
                <button class="btn btn-primary" ng-click="auditEsin(3)">
                    审核不通过
                </button>
            </div>
        </form>
    </div>
</div>
<div class="m-l">
    <button type="button" class="btn btn-primary" ng-click="back()">返回列表</button>
</div>
